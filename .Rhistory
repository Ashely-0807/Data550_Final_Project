here::i_am(
"project4/code/01_make_output.R"
)
.libPaths("C:/Users/user/AppData/Local/R/win-library/4.5")
here::i_am(
"project4/code/01_make_output.R"
)
here::i_am(
"project4/code/01_make_output.R"
)
setwd("C:/Users/user/Documents")
here::i_am(
"project4/code/01_make_output.R"
)
here::i_am(
"project4/code/02_render_report.R"
)
set.seed(1)
random_numbers1 <- rnorm(1000)
saveRDS(
random_numbers1,
file = here::here("project4","output", "random_numbers1.rds")
)
set.seed(2)
random_numbers2 <- rgamma(1000, shape = 1)
saveRDS(
random_numbers2,
file = here::here("project4","output", "random_numbers2.rds")
)
set.seed(3)
random_numbers3 <- runif(1000)
saveRDS(
random_numbers3,
file = here::here("project4", "output", "random_numbers3.rds")
)
set.seed(4)
random_numbers4 <- rbinom(1000, 1, 0.25)
saveRDS(
random_numbers4,
file = here::here("project4", "output", "random_numbers4.rds")
)
.libPaths("C:/Users/user/AppData/Local/R/win-library/4.5")
here::i_am(
"project4/code/01_make_output.R"
)
set.seed(1)
random_numbers1 <- rnorm(1000)
saveRDS(
random_numbers1,
file = here::here("project4","output", "random_numbers1.rds")
)
set.seed(2)
random_numbers2 <- rgamma(1000, shape = 1)
saveRDS(
random_numbers2,
file = here::here("project4","output", "random_numbers2.rds")
)
set.seed(3)
random_numbers3 <- runif(1000)
saveRDS(
random_numbers3,
file = here::here("project4", "output", "random_numbers3.rds")
)
set.seed(4)
random_numbers4 <- rbinom(1000, 1, 0.25)
saveRDS(
random_numbers4,
file = here::here("project4", "output", "random_numbers4.rds")
)
library ("meta")
install.packages("meta")
library ("meta")
a <- read.csv ('C:/Users/user/Downloads/PD_MA_EXAMPLE_EFFECT.xlsx')
a <- read_excel("C:/Users/user/Downloads/PD_MA_EXAMPLE_EFFECT.xlsx")
library(readxl)
a <- read_excel("C:/Users/user/Downloads/PD_MA_EXAMPLE_EFFECT.xlsx")
View(a)
View(a)
a <- read_excel("C:/Users/user/Downloads/PD_MA_EXAMPLE_EFFECT.xlsx")
excel_sheets("C:/Users/user/Downloads/PD_MA_EXAMPLE_EFFECT.xlsx")
a <- read_excel("C:/Users/user/Downloads/PD_MA_EXAMPLE_EFFECT.xlsx", sheet = "Data" )
MA_exampleAUD = metabin(events_exposed, total_exposed, events_control, total_control, studlab=Study, sm="RR", method.tau = “DL”, da
MA_exampleAUD = metabin(events_exposed, total_exposed, events_control, total_control, studlab=Study, sm="RR", method.tau = “DL”, data=a)
MA_exampleAUD = metabin(events_exposed, total_exposed, events_control, total_control,
studlab=Study, sm="RR", method.tau = “DL”, data=a)
MA_exampleAUD <- metabin(
event.e = events_exposed,
n.e = total_exposed,
event.c = events_control,
n.c = total_control,
studlab = Study,
sm = "RR",
method.tau = "DL",
data = a
)
MA_exampleAUD <- metabin(
events_exposed, total_exposed, events_control, total_control,
studlab = Study,
sm = "OR",
method.tau = "DL",
data = a
)
MA_example2 = metagen(
Ln_Effect_estimate, Ln_SE,
data = a,
backtransf = TRUE,
sm = "OR",  method.tau = "DL")
summary(MA_example2)
forest(MA_example2)
NSCLC <- read.csv("N:/NSCLC/GALung_Text_20212022.csv.xlsx")
NSCLC_text <- read.excel("N:/NSCLC/GALung_Text_20212022.xlsx")
library(readxl)
NSCLC_text <- read.excel("N:/NSCLC/GALung_Text_20212022.xlsx")
NSCLC_text <- read.excel("N:/NSCLC/GALung_Text_20212022.xlsx")
NSCLC_text <- read_excel("N:/NSCLC/GALung_Text_20212022.xlsx")
View(NSCLC_text)
library(tidyr)
library(dplyr)
NSCLC_long <- NSCLC_text %>%
pivot_longer(
cols = c(NSCLC_text$TREATMENT_PROCEDURETEXT_BRM, NSCLC_text$TREATMENT_PROCEDURETEXT_CHEMO),
names_to = "source",
values_to = "merged_value"
) %>%
drop_na(merged_value)
NSCLC_long <- NSCLC_text %>%
pivot_longer(
cols = c(TREATMENT_PROCEDURETEXT_BRM, TREATMENT_PROCEDURETEXT_CHEMO),
names_to = "source",
values_to = "merged_value"
) %>%
drop_na(merged_value)
View(NSCLC_long)
NSCLC_long <- NSCLC_text %>%
pivot_longer(
cols = c(TREATMENT_PROCEDURETEXT_BRM, TREATMENT_PROCEDURETEXT_CHEMO),
names_to = "source",
values_to = "merged_value"
) %>%
drop_na(merged_value)
View(NSCLC_long)
NSCLC_long <- NSCLC_text %>%
select(PATIENT_ID, TREATMENT_PROCEDURETEXT_BRM, TREATMENT_PROCEDURETEXT_CHEMO) %>%
pivot_longer(
cols = c(TREATMENT_PROCEDURETEXT_BRM, TREATMENT_PROCEDURETEXT_CHEMO),
names_to = "source",
values_to = "merged_value"
) %>%
drop_na(merged_value)
NSCLC_long <- NSCLC_text %>%
select(StudyID,CTCCTC_ID, TREATMENT_PROCEDURETEXT_BRM, TREATMENT_PROCEDURETEXT_CHEMO) %>%
pivot_longer(
cols = c(TREATMENT_PROCEDURETEXT_BRM, TREATMENT_PROCEDURETEXT_CHEMO),
names_to = "source",
values_to = "merged_value"
) %>%
drop_na(merged_value)
View(NSCLC_long)
NSCLC_long<- NSCLC_long %>%
mutate(StudyID = row_number())
install.packages("writexl")
library(writexl)
# save  the file
write_xlsx(NSCLC_long, path = "N:/NSCLC/Merge_value.xlsx")
library(readxl)
library(meta)
# 1. Read the Excel file
data <- read_excel("C:/Users/user/Desktop/Emory/EPI590/Assignment 3/UPF_LAB_empty.xlsx")
View(data)
# 1. Read the Excel file
data <- read_excel("C:/Users/user/Desktop/Emory/EPI590/Assignment 3/test.xlsx")
m <- metagen(TE = data$Ln_Effect_estimate, seTE = data$Ln_SE, sm = "HR", method.tau = "DL")
# 4. View pooled estimate
summary(m)
exp(c(TE = m$TE.random, LCL = m$lower.random, UCL = m$upper.random))
#forest plot
forest (m)
m <- metagen(
TE = data$Ln_Effect_estimate,    # log(HR)
seTE = data$Ln_SE,               # standard error of log(HR)
studlab = paste(data$Study, data$Year, sep = ", "),  # combines study name & year
sm = "HR",                       # summary measure
method.tau = "DL",               # DerSimonian–Laird
data = data
)
#forest plot
forest (m)
setwd ("C:/Users/user/Documents/Data550_Final_Project")
here::i_am(
"code/01_make_output.R"
)
library(dplyr)
library(ggplot2)
absolute_path_to_data <- here::here("data","netflix_titles.csv")
data <- read.csv(absolute_path_to_data, header = TRUE, encoding = "UTF-8")
## Table 1. Number of Movies vs TV Shows )
table_type <-data  %>%
filter(!is.na(type)) %>%
group_by(type) %>%
summarise(count = n()) %>%
arrange(desc(count))
saveRDS(
table_type,
file = here::here("output", "table_type.rds")
)
## Table 2.Top 10 Countries by Number of Movies (excluding missing values)
top_movies <- data %>%
filter(type == "Movie" & !is.na(country) & country != "") %>%
count(country, sort = TRUE) %>%
slice_max(n, n = 10)
saveRDS(
top_movies,
file = here::here("output", "top_movies.rds")
)
##Table 3.Top 10 Countries by Number of TV Shows (excluding missing values)
top_tv <- data %>%
filter(type == "TV Show" & !is.na(country) & country != "") %>%
count(country, sort = TRUE) %>%
slice_max(n, n = 10)
saveRDS(
top_tv,
file = here::here("output", "top_tv.rds")
)
## Figure 1. Growth of Netflix Movies and TV Shows Over Time (Excluding Missing Values)
figure1 <- data %>%
filter(!is.na(release_year), !is.na(type), type != "", release_year != "") %>%
group_by(release_year, type) %>%
summarise(count = n(), .groups = "drop") %>%
ggplot(aes(x = release_year, y = count, color = type)) +
geom_line(linewidth = 1.2) +
labs(
title = "Netflix Catalog Growth Over Time by Type (Based on Release Year)",
x = "Release Year",
y = "Number of Titles",
color = "Content Type"
) +
theme_minimal()
saveRDS(
figure1,
file = here::here ("output", "figure1.rds")
)
## Figure 2. Distribution of Netflix Titles by Rating and Content Type (Excluding Missing Values)
figure2 <- data %>%
filter(!is.na(rating), rating != "", !is.na(type), type != "") %>%
group_by(rating, type) %>%
summarise(count = n(), .groups = "drop") %>%
ggplot(aes(x = reorder(rating, -count), y = count, fill = type)) +
geom_col(position = "dodge") +
labs(
title = "Distribution of Netflix Titles by Rating and Content Type",
x = "Rating",
y = "Number of Titles",
fill = "Content Type"
) +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
saveRDS(
figure2,
file = here::here ("output", "figure2.rds")
)
setwd ("C:/Users/user/Documents/Data550_Final_Project")
library(tidyverse)
table_type <-data  %>%
filter(!is.na(type)) %>%
group_by(type) %>%
summarise(count = n()) %>%
arrange(desc(count))
top_movies <- data %>%
filter(type == "Movie" & !is.na(country) & country != "") %>%
count(country, sort = TRUE) %>%
slice_max(n, n = 10)
make clean
.libPaths("C:/Users/user/AppData/Local/R/win-library/4.5")
.libPaths()
setwd ("C:/Users/user/Documents/Data550_Final_Project")
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
.libPaths("C:/Users/user/AppData/Local/R/win-library/4.5")
library(knitr)
library(here)
here::here ("finalproject_RZCHEN_1027.Rmd")
rmarkdown::render(
here::here("finalproject_RZCHEN_1027.Rmd")
)
rmarkdown::render(
here::here("finalproject_RZCHEN_1027.Rmd")
)
make clean
tinytex::tinytex_root()
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)
.libPaths("C:/Users/user/AppData/Local/R/win-library/4.5")
library(knitr)
library(here)
Sys.setenv(TEXINPUTS=".:./assets/tex:")
rmarkdown::render(
here::here("finalproject_RZCHEN_1027.Rmd")
)
rmarkdown::render(
here::here("finalproject_RZCHEN_1027.Rmd")
)
setwd ("C:/Users/user/Documents/Data550_Final_Project")
here::i_am(
"code/02_render_report.R"
)
rmarkdown::render(
here::here("finalproject_RZCHEN_1027.Rmd")
)
rmarkdown::render(
here::here("finalproject_RZCHEN_1027.Rmd")
)
